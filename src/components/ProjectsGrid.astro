---
import { Image } from 'astro:assets';
import knowldgePortfolioImage from '../../algorithms.png';
import Card from './Card.astro';
import projects from '../../data/projects';
---

<div class="grid grid-cols-4 gap-8">
	<!-- Colors: https://tailwindcss.com/docs/customizing-colors -->

	{
		projects.map((project, index) => {
			return (
				<Card
					href={`/project${index + 1}`}
					title={project.title}
					description={project.description}
					stackList={project.stackList}
					img={project.img}
					index={index}
					stackBgColor={project.stackBgColor}
				/>
			);
		})
	}

	<!-- position={index % 2 === 0 ? 'even' : 'odd'} -->
	<!-- 
	<Card
		href="/project1"
		title="Knowledge Portfolio"
		description="A Full Stack NextJS App"
		stackList="Next.js 12, Supabase, Styled Components"
		img="../algorithms.png"
		position="even"
		index="1"
		stackBgColor="bg-cyan-400"
	/>
	<Card
		href="/project1"
		title="Open AI API"
		description="A small App where I use the OpenAI API"
		stackList="Next.js 12, Supabase, Styled Components"
		img="../algorithms.png"
		position="odd"
		index="1"
		stackBgColor="bg-cyan-400"
	/>
	<Card
		href="/project3"
		title="Algorithms"
		description="An algorithm blog where I keep my solutions to FreecodeCamp or Codewars problems"
		stackList="React, Javascript"
		img="../algorithms.jpg"
		position="even"
		index="1"
		stackBgColor="bg-cyan-400"
	/>
	<Card
		href="/project1"
		title="Gatsby JS Project"
		description="A GatsbyJS website using WordPress as data source"
		stackList="Next.js 12, Supabase, Styled Components"
		img="../algorithms.png"
		position="odd"
		index="1"
		stackBgColor="bg-cyan-400"
	/>
	<Card
		href="/project1"
		title="CS50 Capstone web"
		description="A Python fullstack project for Hardvard's CS50 course"
		stackList="Next.js 12, Supabase, Styled Components"
		img="../algorithms.png"
		position="even"
		index="1"
		stackBgColor="bg-cyan-400"
	/>
	<Card
		href="/project1"
		title="Library"
		description="an app that's part of the Odin Project curriculum"
		stackList="WordPress, Javascript, CSS, SoftSkills"
		img="../algorithms.png"
		position="even"
		index="1"
		stackBgColor="bg-cyan-400"
	/>
	<Card
		href="/project1"
		title="Monsterslayer"
		description="A VueJS toy app to play and learn some Vue"
		stackList="Next.js 12, Supabase, Styled Components"
		img="../algorithms.png"
		position="odd"
		index="1"
		stackBgColor="bg-cyan-400"
	/>
	<Card
		href="/project1"
		title="Professional Work"
		description="A description of what I do for a living"
		stackList="WordPress, Javascript, CSS, SoftSkills"
		img="../algorithms.png"
		position="even"
		index="1"
		stackBgColor="bg-cyan-400"
	/> -->
</div>

<script>
	// https://codepen.io/GreenSock/pen/BarWPyB
	import { gsap } from 'gsap';
	import { ScrollTrigger } from 'gsap/ScrollTrigger';

	gsap.registerPlugin(ScrollTrigger);

	const cards = document.querySelectorAll('.card');

	const staggerAmount = 50;

	// cards.forEach((card, index) => {
	// 	ScrollTrigger.create({
	// 		onUpdate({ progress }) {
	// 			if (index > 0) {
	// 				const newY =
	// 					-progress * Number(`${index}00`) +
	// 					index * staggerAmount;

	// 				console.log(newY, index);
	// 				gsap.to(card, {
	// 					duration: 0,
	// 					y: newY,
	// 				});
	// 			}
	// 		},
	// 	});
	// });
</script>
